{% extends "base.html" %}

{% block title %}Stats{% endblock %}

{% block content %}
    <h1>{{ message }}</h1>
    <style>
        body {
            background-color: #F2E8CF;
        }

        .chart-container {
          display: flex;
          flex-direction: column;
          gap: 1rem;
          max-width: 600px;
          background-color: #fff;
          padding: 20px;
          border-radius: 15px;
          box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        }

        .chart-title {
          font-weight: bold;
          color: #2c2c2c;
        }

        .bar {
            display: flex;
            flex-direction: row;
            flex: 1;
        }
    
        .bar-wrapper {
            flex: 1;
        position: relative;
          height: 30px;
          background: #2c2c2c;
          border-radius: 15px;
          overflow: hidden;
        }

        .bar-label {
            flex: 0 0 100px;
            color: #2c2c2c;
            font-weight: normal;
            text-align: right;
            padding-right: 15px;
        }
    
        .bar-fill {
          position: absolute;
          height: 100%;
          background: #6B705C;
          border-radius: 15px;
          width: 0;
          display: flex;
          justify-content: flex-end;
          align-items: center;
          transition: width 1s ease-out;
        }
    
        .bar-circle {
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #A5A58D;
          margin-right: 5px;
          transform: scale(0);
          transition: transform 0.5s ease-out;
        }
      </style>
      
      <div class="chart-container">
        <p class="chart-title">Shutter Speed Distribution</p>

        <div class="bar">
            <div class="bar-label">1/200s</div>
            <div class="bar-wrapper">
                <div class="bar-fill" data-value="80">
                    <div class="bar-circle"></div>
                </div>
            </div>
        </div>

        <div class="bar">
            <div class="bar-label">1/1500s</div>
            <div class="bar-wrapper">
                <div class="bar-fill" data-value="75">
                    <div class="bar-circle"></div>
                </div>
            </div>
        </div>

        <div class="bar">
            <div class="bar-label">1s</div>
            <div class="bar-wrapper">
                <div class="bar-fill" data-value="40">
                    <div class="bar-circle"></div>
                </div>
            </div>
        </div>

        <div class="bar">
            <div class="bar-label">1/2000s</div>
            <div class="bar-wrapper">
                <div class="bar-fill" data-value="20">
                    <div class="bar-circle"></div>
                </div>
            </div>
        </div>
      </div>
    
      <script>
        window.addEventListener('load', () => {
          document.querySelectorAll('.bar-fill').forEach(bar => {
            const val = bar.getAttribute('data-value');
            bar.style.width = val + '%';
    
            // delay the circle pop for cool factor
            setTimeout(() => {
              bar.querySelector('.bar-circle').style.transform = 'scale(1)';
            }, 500);
          });
        });
      </script>
{% endblock %}
